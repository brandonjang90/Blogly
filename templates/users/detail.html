{% extends 'base.html' %}

{% block content %}

    <h1>User Information</h1>
    <div class="row">
        {% if user.image_url %}
        <div class="col-sm-2 col-6">
        <img src="{{ user.image_url }}"
            alt="{{ user.full_name }}"
            class="img-fluid">
        </div>
        {% endif %}

        <div class="col-sm-10 col-12">
        <h1>{{user.full_name}}</h1>

        <form>
            <button class="btn btn-primary btn-sm"
                    formaction="/users/{{user.id}}/edit"
                    formmethod="GET">Edit
            </button>
        
            <button class="btn btn-danger btn-sm"
                    formaction="/users/{{user.id}}/delete"
                    formmethod="POST">Delete
            </button>
        </form>

        <h2 class="mt-2"> Posts </h2>
        <ul>
            {% for post in user.posts %}
            <li>
                <a href="/posts/{{post.id}}">{{post.title}}</a>
                <small>{{post.created_at}}</small>
            </li>
            {% endfor %}
        </ul>

        <a href="/users/{{user.id}}/posts/form" class="btn btn-primary">New Post</a>
        </div>
    </div>

{% endblock %}
